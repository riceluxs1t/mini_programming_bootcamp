<style type="text/css">
	body{
		font-family: Lato,-apple-system,BlinkMacSystemFont,sans-serif
	}
	.submit-form {
		border:1px solid #000;
		text-align:center;
	}
	.submit-form-wrapper{
		margin:30px;
	}
	#netId_field, #ex_file {
		margin-bottom:15px;
	}
</style>
<div class="submit-container">
	<a contenteditable="false" href="/"><h2>HOME</h2></a>
	<p contenteditable="false"><h2>HW Submission Page</h2></p>
	<div class="submit-form">
		<div class="submit-form-wrapper">
			NetId: <input class="studnet-netId" id="netId_field"/>
			
		    <div class="filebox">
		    	Upload homework: <input type="file" id="ex_file">
		    </div>
			<button class="btn-submit" onclick="file_upload()">submit</button>
		</div>
	</div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>
function file_upload() {
	var filebox = $('body').find('#ex_file');
	var files = filebox[0].files;
	
	var netId = $('body').find('#netId_field').val();
	if (netId == undefined || netId.trim() == "") {
		alert("please enter valid netId");
		return false;
	}
	var data = new FormData();
	data.append('file', files[0]);
	data.append('netId', netId);
	data.append('csrfmiddlewaretoken', '{{ csrf_token }}');
	$.ajax({
		url: 'uploadFile/',
		type: 'post',
		dataType: 'json',
		data: data,
		processData: false,
		contentType: false,
		success: function() {
			alert("Submission succeeded");

		}, error: function() {
			alert("Submission failed");
		}
	});

}

</script>